<html>
	<head>
		<title>Kevlar Tests</title>
		
		<link rel="stylesheet" href="http://yui.yahooapis.com/combo?3.2.0/build/test/assets/skins/sam/test.css" />
		<link rel="stylesheet" href="http://extjs.cachefly.net/ext-3.2.1/resources/css/ext-all.css" />
		<link rel="stylesheet" href="http://extjs.cachefly.net/ext-3.2.1/examples/ux/css/ColumnNodeUI.css" />
		<link rel="stylesheet" href="../vendor/ext.test/default.css" />
	
		<!-- ExtJS, for the Testing Suite Reporter App -->
		<script type="text/javascript" src="http://extjs.cachefly.net/ext-3.2.1/adapter/ext/ext-base.js"></script>
		<script type="text/javascript" src="http://extjs.cachefly.net/ext-3.2.1/ext-all.js"></script>
		<script type="text/javascript" src="http://extjs.cachefly.net/ext-3.2.1/examples/ux/ColumnNodeUI.js"></script>
		
		<!-- YUI 3.4.1 and the Test App -->
		<script type="text/javascript" src="../vendor/ext.test/ext.test.min.js"></script>
				
		<!-- jQuery and jQuery UI -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
		
		<!-- JSMockito Mocking Framework -->
		<script type="text/javascript" src="../vendor/jsmockito/jshamcrest.js"></script>
		<script type="text/javascript" src="../vendor/jsmockito/jsmockito.js"></script>
		
		
		<!-- Code under test (the entire library) -->
		<script type="text/javascript" src="../kevlar.js"></script>
		
		<!-- Tests themselves -->
		<script type="text/javascript">
			/*global Ext */
			
			// The namespace that all tests are under
			var tests = {};
		</script>
		<script type="text/javascript" src="kevlarTests.js"></script>
		
		
		<!-- Test Harness Setup -->
		<script type="text/javascript">
			// Variables for PhantomJS runnner
			var runnerResults,
			    testsFailed = [];
			
			(function() {
				var startButton = new Ext.test.view.StartButton();
				
				var viewer = new Ext.test.view.ColumnTree( {
					region: 'center',
					title: document.title,
					height: 350,
					tbar: [
						startButton, 
						'->', 
						{
							xtype: 'testprogressbar',
							width: 500
						}
					]
				} );
				
				var logger = new Ext.test.view.Logger( {
					region: 'south',
					height: 200,
					split: true,
					minSize: 100
				} );
				
				
				Ext.onReady( function() {
					new Ext.Viewport( {
						layout : 'border',
						items : [ viewer, logger ]
					} );
					
					// Setup listener for PhantomJS runner
					Ext.test.Runner.addListener( {
						'fail' : function( runner, data ) {
							// global var
							testsFailed.push( "'" + data.testName + "' : failed.\n" + data.error.toString() );
						},
						
						'complete' : function( runner, data ) {
							// global var
							runnerResults = data.results;
						}
					} );
					
					// Begin the tests immediately
					startButton.runTests();
				} );
			
			} )();
		</script>
	</head>
	
	<body>
	</body>
</html>
